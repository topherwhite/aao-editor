<?php

function xml_clean($instr)
{
	$orig = array(	"À",		"à",		"Á",		"á",		"Â",		"â",
					"Ã",		"ã",		"Ä",		"ä",		"Å",		"å",
					"Ā",		"ā",		"Ă",		"ă",		"Ą",		"ą",
					"Ǟ",		"ǟ",		"Ǻ",		"ǻ",		"Æ",		"æ",
					"Ǽ",		"ǽ",		"\r\n\r\n",	"ç",		"Ç",		"é",
					"É",		"è",		"È",		"ê",		"Ê",		"ë",
					"Ë",		"í",		"Í",		"ì",		"Ì",		"î",
					"Î",		"ï",		"Ï",		"ñ",		"Ñ",		"ó",
					"Ó",		"ò",		"Ò",		"ô",		"Ô",		"ø",
					"Ø",		"õ",		"Õ",		"ö",		"Ö",		"ß",
					"ú",		"Ú",		"ù",		"Ù",		"û",		"Û",
					"ü",		"Ü",		"ÿ",		"“",		"”",		"–",
					"’",		"‘",		"€",		"…",		"£",		"©",
					"¢",		"÷",		"µ",		"·",		"±",		"°",
					"¹",		"²",		"³",		"¥",		"®",		"º",
					"¼",		"½",		"¾",		"»",		"«",		"≥",
					"¿",		"×"
	);
	$repl = array(	"&#192;",	"&#224;",	"&#193;",	"&#225;",	"&#194;",	"&#226;",
					"&#195;",	"&#227;",	"&#196;",	"&#228;",	"&#197;",	"&#229;",
					"&#256;",	"&#257;",	"&#258;",	"&#259;",	"&#260;",	"&#261;",
					"&#478;",	"&#479;",	"&#506;",	"&#507;",	"&#198;",	"&#230;",
					"&#508;",	"&#509;",	"¶",		"&#231;",	"&#199;",	"&#233;",
					"&#201;",	"&#232;",	"&#200;",	"&#234;",	"&#202;",	"&#235;",
					"&#203;",	"&#237;",	"&#205;",	"&#236;",	"&#204;",	"&#238;",
					"&#206;",	"&#239;",	"&#207;",	"&#241;",	"&#209;",	"&#243;",
					"&#211;",	"&#242;",	"&#210;",	"&#244;",	"&#212;",	"&#248;",
					"&#216;",	"&#245;",	"&#213;",	"&#246;",	"&#214;",	"&#223;",
					"&#250;",	"&#218;",	"&#249;",	"&#217;",	"&#251;",	"&#219;",
					"&#252;",	"&#220;",	"&#255;",	"&quot;",	"&quot;",	"&#x2014;",
					"&#39;",	"&#39;",	"&#8364;",	"...",		"&#163;",	"&#169;",
					"&#162;",	"&#247;",	"&#181;",	"&#183;",	"&#177;",	"&#176;",
					"&#185;",	"&#178;",	"&#179;",	"&#165;",	"&#174;",	"&#186;",
					"&#188;",	"&#189;",	"&#190;",	"&#187;",	"&#171;",	"&#x2265;",
					"&#191;",	"&#215;"
	);
	
	return str_replace($orig,$repl,$instr);
}



function xml_clean_simple($instr)
{
	$orig = array(	"&",		"<",		">",		"\""		//strict
				//	,"'"											//extra
					);
	$repl = array(	"&amp;",	"&lt;",		"&gt;",		"&quot;"	//strict
				//	,"&#39;"										//extra
					);
	return str_replace($orig,$repl,$instr);
}

?>